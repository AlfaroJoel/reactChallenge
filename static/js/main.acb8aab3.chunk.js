(this.webpackJsonpteamhero=this.webpackJsonpteamhero||[]).push([[0],{113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),s=a.n(c),o=a(30),i=a(79),l=a(8),j=a(1),d=r.a.createContext({heroTeam:[],addHero:function(e){},deleteHero:function(e){},badHeroes:0,goodHeroes:0,powerstats:{},averHeight:0,averWeight:0}),u=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),o=Object(l.a)(s,2),u=o[0],b=o[1],h=Object(n.useState)(0),m=Object(l.a)(h,2),x=m[0],p=m[1],O=Object(n.useState)([]),v=Object(l.a)(O,2),g=v[0],f=v[1],C=Object(n.useState)([]),w=Object(l.a)(C,2),y=w[0],H=w[1];Object(n.useEffect)((function(){k()}),[r]);var k=function(){var e=[{prop:"intelligence",value:0},{prop:"strength",value:0},{prop:"speed",value:0},{prop:"durability",value:0},{prop:"power",value:0},{prop:"combat",value:0}],t=[{prop:"height",value:0},{prop:"weight",value:0}];r.map((function(a){e.map((function(e){e.value+=parseInt(a.powerstats[e.prop])})),t.map((function(e){e.value+=parseInt(a.appearance[e.prop][1].split(" ")[0])}))})),r.length>0&&(t[0].value=(t[0].value/r.length).toFixed(2),t[1].value=(t[1].value/r.length).toFixed(2)),e.sort((function(e,t){return t.value-e.value})),H(e),f(t)};return Object(j.jsx)(d.Provider,{value:{heroTeam:r,addHero:function(e){var t=e.biography.alignment;c((function(t){return[].concat(Object(i.a)(t),[e])})),"good"===t||"neutral"===t?(p(x+1),console.log(e.name+" successfully added to your team, Hero good: ",x+1," total Team: ",r.length+1)):(b(u+1),console.log(e.name+" successfully added to your team, Hero bad: ",u+1," total Team: ",r.length+1))},deleteHero:function(e){c((function(t){return t.filter((function(t){return t.id!==e.id}))})),"good"===e.biography.alignment||"neutral"===e.biography.alignment?p(x-1):b(u-1)},goodHeroes:x,badHeroes:u,powerstats:y,statistics:g},children:e.children})},b=d,h=r.a.createContext({authenticated:!1,setAuthenticated:function(){}}),m=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(j.jsx)(h.Provider,{value:{authenticated:r,setAuthenticated:c},children:e.children})},x=h,p=(a(86),a(7)),O=a(19),v=a.n(O),g=a(32),f=a(78),C=a(53),w=a(21),y=function(e){return Object(j.jsx)(w.a,{className:"mx-4",variant:e.variant,onClick:e.onClick,children:e.content})},H=a(43),k=a(74),N=a(38),S=function(e){var t=Object(j.jsx)("svg",{className:"option__svg",width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M13.5 0.874822H9.75L9.45625 0.363494C9.39402 0.254177 9.29817 0.162222 9.17947 0.0979744C9.06078 0.0337264 8.92395 -0.000265901 8.78438 -0.000178311H5.2125C5.07324 -0.000646725 4.93665 0.0332188 4.81838 0.0975383C4.7001 0.161858 4.60492 0.25403 4.54375 0.363494L4.25 0.874822H0.5C0.367392 0.874822 0.240215 0.920915 0.146447 1.00296C0.0526784 1.08501 0 1.19629 0 1.31232L0 2.18732C0 2.30335 0.0526784 2.41463 0.146447 2.49668C0.240215 2.57873 0.367392 2.62482 0.5 2.62482H13.5C13.6326 2.62482 13.7598 2.57873 13.8536 2.49668C13.9473 2.41463 14 2.30335 14 2.18732V1.31232C14 1.19629 13.9473 1.08501 13.8536 1.00296C13.7598 0.920915 13.6326 0.874822 13.5 0.874822V0.874822ZM1.6625 12.7694C1.68635 13.1026 1.85443 13.4153 2.13252 13.6439C2.41061 13.8725 2.77781 13.9998 3.15937 13.9998H10.8406C11.2222 13.9998 11.5894 13.8725 11.8675 13.6439C12.1456 13.4153 12.3137 13.1026 12.3375 12.7694L13 3.49982H1L1.6625 12.7694Z",fill:"black"})}),a=Object(j.jsx)("svg",{className:"option__svg",width:"20",height:"6",viewBox:"0 0 20 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M12.9032 3C12.9032 4.65833 11.6048 6 10 6C8.39516 6 7.09677 4.65833 7.09677 3C7.09677 1.34167 8.39516 0 10 0C11.6048 0 12.9032 1.34167 12.9032 3ZM17.0968 0C15.4919 0 14.1935 1.34167 14.1935 3C14.1935 4.65833 15.4919 6 17.0968 6C18.7016 6 20 4.65833 20 3C20 1.34167 18.7016 0 17.0968 0ZM2.90323 0C1.29839 0 0 1.34167 0 3C0 4.65833 1.29839 6 2.90323 6C4.50806 6 5.80645 4.65833 5.80645 3C5.80645 1.34167 4.50806 0 2.90323 0Z",fill:"black"})}),n=Object(j.jsx)("svg",{className:"option__svg",width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M13 5.5H8.5V1C8.5 0.447812 8.05219 0 7.5 0H6.5C5.94781 0 5.5 0.447812 5.5 1V5.5H1C0.447812 5.5 0 5.94781 0 6.5V7.5C0 8.05219 0.447812 8.5 1 8.5H5.5V13C5.5 13.5522 5.94781 14 6.5 14H7.5C8.05219 14 8.5 13.5522 8.5 13V8.5H13C13.5522 8.5 14 8.05219 14 7.5V6.5C14 5.94781 13.5522 5.5 13 5.5Z",fill:"black"})});return Object(j.jsxs)("div",{className:"d-flex justify-content-around my-2",children:[Object(j.jsx)(y,{variant:e.isCardDelete?"outline-danger":"outline-primary",content:e.isCardDelete?t:n,onClick:e.onClick}),Object(j.jsx)(y,{variant:"outline-warning",content:a,onClick:e.onClickDetails})]})},L=(a(88),function(e){var t=e.hero,a=e.isCardDelete,r=e.messageHandler,c=Object(n.useContext)(b),s=t.biography.alignment,o="bad"===s?"alignmentBad":"alignmentGood",i=Object(n.useState)(!1),d=Object(l.a)(i,2),u=d[0],h=d[1];return Object(j.jsxs)(H.a,{className:a?"heroCard__Delete card mb-2 mx-auto "+o:"heroCard card mb-2 mx-auto "+o,children:[Object(j.jsx)(H.a.Img,{variant:"top",src:t.image.url,className:"cardImg"}),Object(j.jsx)(H.a.Body,{children:Object(j.jsx)(H.a.Title,{children:t.name})}),Object(j.jsxs)(k.a,{className:"list-group-flush",children:[u?Object(j.jsxs)(N.a,{children:[t.biography.aliases[0],Object(j.jsx)("br",{}),"Weight: ",t.appearance.weight[1],Object(j.jsx)("br",{}),"Height: ",t.appearance.height[1],Object(j.jsx)("br",{}),"Eye Color: ",t.appearance["eye-color"],Object(j.jsx)("br",{}),"Hair Color: ",t.appearance["hair-color"],Object(j.jsx)("br",{}),"Work: ",t.work.base]}):Object(j.jsxs)(N.a,{children:["Intelligence: ",t.powerstats.intelligence,Object(j.jsx)("br",{}),"Strength: ",t.powerstats.strength,Object(j.jsx)("br",{}),"Speed: ",t.powerstats.speed,Object(j.jsx)("br",{}),"Durability: ",t.powerstats.durability,Object(j.jsx)("br",{}),"Power: ",t.powerstats.power,Object(j.jsx)("br",{}),"Combat: ",t.powerstats.combat,Object(j.jsx)("br",{})]}),Object(j.jsx)(S,{isCardDelete:a,onClick:a?function(){c.deleteHero(t)}:function(){if(c.heroTeam.length<6){for(var e in c.heroTeam)if(c.heroTeam[e].id===t.id)return void r("You cannot add the same hero twice",!0);if(("good"===s||"neutral"===s)&&c.goodHeroes<3)c.addHero(t),r("superhero added correctly",!1);else{if(!("bad"===s&&c.badHeroes<3))return void r("You already have 3 superheroes ".concat(s),!0);c.addHero(t),r("superhero added correctly",!1)}}else r("Your team is already complete (maximum 6)",!0)},onClickDetails:function(){h(!u)}})]})]})}),T=Object(j.jsx)("svg",{width:"10",height:"19",viewBox:"0 0 10 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M0.294688 8.80393L7.58259 0.832836C7.93407 0.448397 8.50392 0.448397 8.85537 0.832836L9.70539 1.76254C10.0563 2.14632 10.0569 2.76832 9.70689 3.15301L3.9311 9.50001L9.70689 15.847C10.0569 16.2317 10.0563 16.8537 9.70539 17.2374L8.85537 18.1671C8.50389 18.5516 7.93404 18.5516 7.58259 18.1671L0.294725 10.196C-0.0567617 9.81165 -0.0567617 9.18837 0.294688 8.80393Z",fill:"black"})}),B=Object(j.jsx)("svg",{width:"10",height:"19",viewBox:"0 0 10 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M9.70531 10.1961L2.41741 18.1672C2.06593 18.5516 1.49608 18.5516 1.14463 18.1672L0.294613 17.2375C-0.0562748 16.8537 -0.0569497 16.2317 0.293113 15.847L6.0689 9.49999L0.293113 3.15303C-0.0569497 2.76834 -0.0562748 2.14634 0.294613 1.76256L1.14463 0.832855C1.49611 0.448415 2.06596 0.448415 2.41741 0.832855L9.70527 8.80395C10.0568 9.18835 10.0568 9.81163 9.70531 10.1961Z",fill:"black"})}),D=function(e){var t=e.foundHeroes,a=e.messageHandler,r=Object(n.useState)(0),c=Object(l.a)(r,2),s=c[0],o=c[1];return Object(j.jsx)(j.Fragment,{children:t&&(t.length>1?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y,{variant:"outline-secondary",onClick:function(){a("",!1),0!==s&&o(s-1)},content:T}),Object(j.jsx)(L,{hero:t[s],isCardDelete:!1,messageHandler:a}),Object(j.jsx)(y,{variant:"outline-secondary",onClick:function(){a("",!1),t.length!==s+1&&o(s+1)},content:B})]}):Object(j.jsx)(L,{hero:t[0],isCardDelete:!1,messageHandler:a},t[0].id))})},Z=a(42),F=a(75),I=a(80),V=(a(89),function(){var e=Object(n.useContext)(x),t=Object(p.g)();return Object(j.jsx)(Z.a,{className:"navbar-sticky",bg:"dark",variant:"dark",expand:"lg",children:Object(j.jsxs)(F.a,{children:[Object(j.jsx)(Z.a.Brand,{children:"TeamHero"}),Object(j.jsx)(Z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(Z.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav",children:Object(j.jsxs)(I.a,{className:"align-items-center",children:[Object(j.jsx)(o.b,{className:"link my-2 mx-lg-4",to:"/home",children:"My Team"}),Object(j.jsx)(o.b,{className:"link my-2 mx-lg-4",to:"/search",children:"Search Hero"}),Object(j.jsx)(w.a,{className:"mx-5 my-2",variant:"outline-light",onClick:function(){e.setAuthenticated(!1),localStorage.removeItem("token"),t.push("/")},children:"Logout"})]})})]})})}),A=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(n.useState)(""),p=Object(l.a)(x,2),O=p[0],w=p[1],y=Object(n.useState)(!1),H=Object(l.a)(y,2),k=H[0],N=H[1],S=a(65),L=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,S.get("https://www.superheroapi.com/api.php/104060338637111/search/"+i);case 4:return t=e.sent,e.abrupt("return",t.data.results);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),c(null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(""!==i){var e=setTimeout(Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:(t=e.sent)?(c(t),m(!1),w("")):(c(null),m(!1),N(!0),w("Hero not found"));case 4:case"end":return e.stop()}}),e)}))),650);return function(){clearTimeout(e)}}}),[i]);var T=function(e,t){N(t),w(e)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V,{}),Object(j.jsx)("div",{className:"container text-center",children:Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsxs)("div",{className:"d-flex flex-column justify-content-center mx-auto col-md-4 max-lg-h my-3",children:[Object(j.jsx)("h2",{className:"d-none d-md-inline-block mb-5",children:"Find your Favorite Superhero and add him to your Team!"}),Object(j.jsx)(f.a.Control,{type:"text",placeholder:"Search Hero",size:"lg",onChange:function(e){T("",!1),d(e.target.value)}}),Object(j.jsx)("p",{className:k?"text-danger mb-0 mt-1":"text-success mb-0 mt-1",children:O})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-around align-items-center pt-5 col-md-6",children:[h&&""!==i&&Object(j.jsx)(C.a,{animation:"border",variant:"primary"}),r&&!h&&Object(j.jsx)(D,{foundHeroes:r,messageHandler:T})]})]})})]})},M=a(34),_=(a(113),function(e){var t=Object(n.useContext)(b),a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],s=r[1],o=function(){s(!c)};return Object(j.jsxs)("div",{className:"powerstats",children:[Object(j.jsxs)(M.a,{size:"sm",show:c,onHide:o,centered:!0,children:[Object(j.jsx)(M.a.Header,{children:Object(j.jsx)(M.a.Title,{children:"Powerstats"})}),Object(j.jsx)(M.a.Body,{className:"text-start mx-auto",children:t.powerstats.map((function(e){return Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"text-uppercase text-primary",children:e.prop})," ",": "+e.value]},e.prop)}))}),Object(j.jsxs)(M.a.Body,{className:"text-center",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"text-success",children:"Average height: "}),t.statistics[0].value," cm"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"text-success",children:"Average weight: "}),t.statistics[1].value," kg"]})]}),Object(j.jsx)(w.a,{variant:"dark",onClick:o,children:"Close"})]}),Object(j.jsx)(w.a,{onClick:o,variant:"warning",size:"lg",children:"Powerstats"})]})});var E=function(){var e=Object(n.useContext)(b);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V,{}),Object(j.jsxs)("div",{className:"my-3 container-fluid",children:[Object(j.jsx)("div",{className:"row",children:e.heroTeam&&e.heroTeam.length>0&&e.heroTeam.map((function(e){return Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(L,{hero:e,isCardDelete:!0})},e.id)}))}),Object(j.jsx)(_,{})]})]})},P=a(41),z=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(""),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(""),f=Object(l.a)(O,2),y=f[0],H=f[1],k=Object(n.useContext)(x),N=Object(p.g)(),S=a(65),L=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,D();case 3:(t=e.sent)&&(k.setAuthenticated(!0),localStorage.setItem("token",t.token),N.push("/home"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t;if(e){if(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return void d(e);t="Invalid email address"}else t="Email required";return t},B=function(e){return e.length<5?"Very short password (min 5 char)":void m(e)},D=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("http://challenge-react.alkemy.org/",{email:i,password:h});case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return H(t.status),c(!1),e.abrupt("return",null);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),H("Invalid email and/or password "),c(!1),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-center max-h",children:Object(j.jsx)(P.c,{initialValues:{email:"",password:""},onSubmit:L,children:function(e){var t=e.errors,a=e.touched;return Object(j.jsxs)(P.b,{className:"d-flex flex-column m-4",children:[Object(j.jsx)("h1",{children:"Signup"}),Object(j.jsxs)("div",{className:"my-4 d-flex flex-column text-left",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)(P.a,{className:"form-control",name:"email",type:"email",validate:T,placeholder:"challenge@alkemy.org"}),t.email&&a.email&&Object(j.jsx)("div",{className:"form-text text-danger",children:t.email})]}),Object(j.jsxs)("div",{className:"my-3 mb-5 d-flex flex-column text-left",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)(P.a,{className:"form-control",name:"password",type:"password",validate:B,placeholder:"react"}),t.password&&a.password&&Object(j.jsx)("div",{className:"form-text text-danger",children:t.password})]}),Object(j.jsx)(w.a,{type:"submit",variant:"success",children:r?Object(j.jsx)(C.a,{size:"sm",animation:"border"}):"Login"}),""!==y&&Object(j.jsx)("p",{className:"form-text text-danger mx-auto my-2",children:y})]})}})})};a(114);var W=function(){var e=Object(n.useContext)(x);return Object(j.jsxs)(p.d,{children:[Object(j.jsx)(p.b,{exact:!0,path:"/",component:z}),e.authenticated?Object(j.jsx)(p.b,{exact:!0,path:"/home",component:E}):Object(j.jsx)(p.a,{to:"/"}),e.authenticated?Object(j.jsx)(p.b,{exact:!0,path:"/search",component:A}):Object(j.jsx)(p.a,{to:"/"})]})};s.a.render(Object(j.jsx)(u,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(m,{children:Object(j.jsx)(W,{})})})}),document.getElementById("root"))},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.acb8aab3.chunk.js.map